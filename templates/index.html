<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Image Optimizer</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .container { max-width: 600px; margin: auto; }
        .header { text-align: center; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; }
        input[type="text"], input[type="number"], input[type="file"] { width: 100%; padding: 8px; }
        input[type="checkbox"] { margin-right: 5px; }
        button { padding: 10px 20px; font-size: 16px; }
        .flash { color: red; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>Image Optimizer</h1>
        <p>
            Upload a ZIP file containing JPEG and PNG images to optimize them. Adjust the JPEG quality and
            choose to convert PNGs to JPEG (if they have no transparency). The optimized images will be returned
            in a ZIP file.
        </p>
    </div>
    
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="flash">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    
    <form method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="zip_file">ZIP File of Images:</label>
            <input type="file" id="zip_file" name="zip_file" accept=".zip" required>
        </div>
        <div class="form-group">
            <label for="jpeg_quality">JPEG Quality (1-100):</label>
            <input type="number" id="jpeg_quality" name="jpeg_quality" value="85" min="1" max="100">
        </div>
        <div class="form-group">
            <input type="checkbox" id="convert_png" name="convert_png">
            <label for="convert_png" style="display:inline;">Convert PNG to JPEG (if no transparency)</label>
        </div>
        <button type="submit">Optimize Images</button>
    </form>
</div>
</body>
</html>
